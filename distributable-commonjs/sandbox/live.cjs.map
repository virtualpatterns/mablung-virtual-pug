{"version":3,"sources":["../../source/sandbox/live.js"],"names":["FilePath","__filename","FolderPath","Path","dirname","Require","require","main","sourcePath","resolve","targetPath","extname","Transform","createModuleFromPath","FileSystem","move","Bundler","bundle","Server","start","error","console","log","repeat"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AAEA,MAAMA,QAAQ,GAPdC,UAOA;;AACA,MAAMC,UAAU,GAAGC,cAAKC,OAAL,CAAaJ,QAAb,CAAnB;;AACA,MAAMK,OAAO,GATbC,OASA;;AAEA,eAAeC,IAAf,GAAsB;AAEpB,MAAI;AAEF,QAAIC,UAAU,GAAG,IAAjB;AACAA,IAAAA,UAAU,GAAGH,OAAO,CAACI,OAAR,CAAgB,0BAAhB,CAAb;AAEA,QAAIC,UAAU,GAAG,IAAjB;AACAA,IAAAA,UAAU,GAAI,GAAEF,UAAW,GAAEL,cAAKQ,OAAL,CAAaX,QAAb,CAAuB,EAApD;AAEA,UAAMY,iBAAUC,oBAAV,CAA+BL,UAA/B,EAA2CE,UAA3C,CAAN;AAEC,KAAEF,UAAF,EAAcE,UAAd,IAA6B,CAAEA,UAAF,EAAe,GAAEF,UAAW,KAA5B,CAA7B;;AAED,QAAIA,UAAU,KAAKE,UAAnB,EAA+B;AAC7B,YAAMI,iBAAWC,IAAX,CAAgBL,UAAhB,EAA6B,GAAEF,UAAW,KAA1C,CAAN;AACD;;AAED,UAAO,IAAIQ,sBAAJ,CAAYX,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAAZ,EAAiD;AACtD,eAAS,KAD6C;AAEtD,kBAAY,CAF0C;AAGtD,gBAAU,KAH4C;AAItD,gBAAW,GAAEP,UAAW,aAJ8B;AAKtD,gBAAU,SAL4C;AAMtD,eAAS;AAN6C,KAAjD,CAAD,CAOFe,MAPE,EAAN;;AASAC,wBAAOC,KAAP,CAAa;AACX,kBAAY,CADD;AAEX,eAAS,CACP,CAAE,GAAF,EAAQ,GAAEjB,UAAW,aAArB,CADO,EAEP,CAAE,cAAF,EAAmB,GAAEA,UAAW,+BAAhC,CAFO,CAFE;AAMX,cAAQ;AANG,KAAb;AASD,GAlCD,CAkCE,OAAOkB,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAIC,MAAJ,CAAW,EAAX,CAAZ;AACAF,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAIC,MAAJ,CAAW,EAAX,CAAZ;AACD;AAEF;;AAEDhB,IAAI","sourcesContent":["import Bundler from 'parcel-bundler'\nimport FileSystem from 'fs-extra'\nimport Path from 'path'\nimport Server from 'live-server'\n\nimport { Transform } from '../index.js'\n\nconst FilePath = __filePath\nconst FolderPath = Path.dirname(FilePath)\nconst Require = __require\n\nasync function main() {\n\n  try {\n\n    let sourcePath = null\n    sourcePath = Require.resolve('./www/script/element.pug')\n  \n    let targetPath = null\n    targetPath = `${sourcePath}${Path.extname(FilePath)}`\n  \n    await Transform.createModuleFromPath(sourcePath, targetPath)\n  \n    ;[ sourcePath, targetPath ] = [ targetPath, `${sourcePath}.js` ]\n  \n    if (sourcePath !== targetPath) {\n      await FileSystem.move(targetPath, `${sourcePath}.js`)\n    }\n  \n    await (new Bundler(Require.resolve('./www/index.html'), {\n      'cache': false,\n      'logLevel': 4,\n      'minify': false,\n      'outDir': `${FolderPath}/www-bundle`,\n      'target': 'browser',\n      'watch': false\n    })).bundle()\n  \n    Server.start({\n      'logLevel': 2,\n      'mount': [\n        [ '/', `${FolderPath}/www-bundle` ],\n        [ '/favicon.ico', `${FolderPath}/www/resource/application.ico` ]\n      ],\n      'open': false\n    })\n  \n  } catch (error) {\n    console.log('-'.repeat(80))\n    console.error(error)\n    console.log('-'.repeat(80))\n  }\n\n}\n\nmain()\n"],"file":"live.cjs"}