{"version":3,"sources":["../../source/sandbox/live.js"],"names":["Bundler","FileSystem","Path","Server","Transform","FilePath","_URL","fileURLToPath","import","meta","url","FolderPath","dirname","Require","_createRequire","main","sourcePath","resolve","targetPath","extname","createModuleFromPath","move","bundle","start","error","console","log","repeat"],"mappings":"gFAAA,OAAOA,OAAP,MAAoB,gBAApB;AACA,OAAOC,UAAP,MAAuB,UAAvB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,MAAMC,QAAQ,GAPdC,IAAI,CAACC,aAAL,CAAmBC,MAAM,CAACC,IAAP,CAAYC,GAA/B,CAOA;AACA,MAAMC,UAAU,GAAGT,IAAI,CAACU,OAAL,CAAaP,QAAb,CAAnB;AACA,MAAMQ,OAAO,GATbC,cAAc,CAACN,MAAM,CAACC,IAAP,CAAYC,GAAb,CASd;;AAEA,eAAeK,IAAf,GAAsB;;AAEpB,MAAI;;AAEF,QAAIC,UAAU,GAAG,IAAjB;AACAA,IAAAA,UAAU,GAAGH,OAAO,CAACI,OAAR,CAAgB,0BAAhB,CAAb;;AAEA,QAAIC,UAAU,GAAG,IAAjB;AACAA,IAAAA,UAAU,GAAI,GAAEF,UAAW,GAAEd,IAAI,CAACiB,OAAL,CAAad,QAAb,CAAuB,EAApD;;AAEA,UAAMD,SAAS,CAACgB,oBAAV,CAA+BJ,UAA/B,EAA2CE,UAA3C,CAAN;;AAEC,KAAEF,UAAF,EAAcE,UAAd,IAA6B,CAAEA,UAAF,EAAe,GAAEF,UAAW,KAA5B,CAA7B;;AAED,QAAIA,UAAU,KAAKE,UAAnB,EAA+B;AAC7B,YAAMjB,UAAU,CAACoB,IAAX,CAAgBH,UAAhB,EAA6B,GAAEF,UAAW,KAA1C,CAAN;AACD;;AAED,UAAO,IAAIhB,OAAJ,CAAYa,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAAZ,EAAiD;AACtD,eAAS,KAD6C;AAEtD,kBAAY,CAF0C;AAGtD,gBAAU,KAH4C;AAItD,gBAAW,GAAEN,UAAW,aAJ8B;AAKtD,gBAAU,SAL4C;AAMtD,eAAS,KAN6C,EAAjD,CAAD;AAOFW,IAAAA,MAPE,EAAN;;AASAnB,IAAAA,MAAM,CAACoB,KAAP,CAAa;AACX,kBAAY,CADD;AAEX,eAAS;AACP,OAAE,GAAF,EAAQ,GAAEZ,UAAW,aAArB,CADO;AAEP,OAAE,cAAF,EAAmB,GAAEA,UAAW,+BAAhC,CAFO,CAFE;;AAMX,cAAQ,KANG,EAAb;;;AASD,GAlCD,CAkCE,OAAOa,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAIC,MAAJ,CAAW,EAAX,CAAZ;AACAF,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAIC,MAAJ,CAAW,EAAX,CAAZ;AACD;;AAEF;;AAEDZ,IAAI","sourcesContent":["import Bundler from 'parcel-bundler'\nimport FileSystem from 'fs-extra'\nimport Path from 'path'\nimport Server from 'live-server'\n\nimport { Transform } from '../index.js'\n\nconst FilePath = __filePath\nconst FolderPath = Path.dirname(FilePath)\nconst Require = __require\n\nasync function main() {\n\n  try {\n\n    let sourcePath = null\n    sourcePath = Require.resolve('./www/script/element.pug')\n  \n    let targetPath = null\n    targetPath = `${sourcePath}${Path.extname(FilePath)}`\n  \n    await Transform.createModuleFromPath(sourcePath, targetPath)\n  \n    ;[ sourcePath, targetPath ] = [ targetPath, `${sourcePath}.js` ]\n  \n    if (sourcePath !== targetPath) {\n      await FileSystem.move(targetPath, `${sourcePath}.js`)\n    }\n  \n    await (new Bundler(Require.resolve('./www/index.html'), {\n      'cache': false,\n      'logLevel': 4,\n      'minify': false,\n      'outDir': `${FolderPath}/www-bundle`,\n      'target': 'browser',\n      'watch': false\n    })).bundle()\n  \n    Server.start({\n      'logLevel': 2,\n      'mount': [\n        [ '/', `${FolderPath}/www-bundle` ],\n        [ '/favicon.ico', `${FolderPath}/www/resource/application.ico` ]\n      ],\n      'open': false\n    })\n  \n  } catch (error) {\n    console.log('-'.repeat(80))\n    console.error(error)\n    console.log('-'.repeat(80))\n  }\n\n}\n\nmain()\n"],"file":"live.js"}